<div class="chat-container d-flex flex-column" style="height: calc(100vh - 150px); width: 90%; max-width: 450px; margin: 0 auto;">

  <!-- Title Card -->
  <div class="card shadow-lg border-0 d-flex flex-row justify-content-center align-items-center p-2"
       style="border: 1px solid black; border-radius: 20px; background-color: white; margin-top: 40px">
    <%= image_tag "ivy.png", style: "width: 30px; height: 30px; margin-right: 15px;" %>
    <h1 class="mb-0" style="font-size: 1.45rem; font-weight: 600;">Ivy Files</h1>
  </div>

  <!-- Files Grid -->
  <div class="row justify-content-center mt-4" style="overflow: scroll; background-color: white; padding: 10px 0;">
    <% @attachments.each do |attachment| %>
      <div class="col-md-6 mb-4">
        <div class="card shadow-lg border-0 d-flex flex-column justify-content-center align-items-center p-2"
             style="border: 1px solid black; border-radius: 20px; background-color: white; height: 100%;">
          
          <!-- Media Preview -->
          <% if attachment.photo.attached? && attachment.photo.image? %>
            <div class="media-wrapper d-flex justify-content-center align-items-center mb-3"
                 style="width: 60px; height: 60px;">
              <%= image_tag attachment.photo, class: "img-fluid rounded", style: "max-width: 100%; max-height: 100%;" %>
            </div>
          <% end %>

          <!-- Buttons -->
          <% if attachment.photo.attached? %>
            <%= link_to "Download",
                        download_attachment_path(attachment),
                        class: "btn w-100 mb-2",
                        style: "background-color: gold; border: 2px solid black; border-radius: 20px;" %>
          <% end %>
          <%= link_to "Delete", attachment_path(attachment),
                      data: { turbo_method: :delete, turbo_confirm: "Are you sure?" },
                      class: "btn btn-danger w-100 mb-2",
                      style: "border-radius: 20px; color: white; border: 2px solid black;" %>
        </div>
      </div>
    <% end %>
  </div>
</div>